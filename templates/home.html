<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Typing Jungle</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    
    <!-- Bootstrap CSS -->
    <link
        rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css"
        integrity="sha384-B0vP5xmATw1+K9KRQjQERJvTumQW0nPEzvF6L/Z6nronJ3oUOFUFpCjEUQouq2+l"
        crossorigin="anonymous"
    />

    <!-- JS -->
    <script
        src="https://code.jquery.com/jquery-3.5.1.min.js"
        crossorigin="anonymous"
    ></script>
    <script
        src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"
        integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN"
        crossorigin="anonymous"
    ></script>

    <script>
        $(document).ready(function () {
            top10();
        });

        function top10() {
            $.ajax({
                type: "GET",
                url: "/api/rank",
                data: {},
                success: function (response) {
                    let temp = response['rank']
                    for(let i = 0; i<temp.length; i++){
                        $('#top'+(i+1)+'-pid').append(temp[i]['pid'])
                        $('#top'+(i+1)+'-record').append(temp[i]['score'])
                    }
                    
                }
            })
        }

        function gamestart() {
            window.location.href = '/game'
        }
    </script>
</head>

<body>
    <div class="nav">
        <span class="nav-logo">Typing Jungle</span>
        <div class="nav-btn">
            <button>Log out</button>
        </div>
    </div>

    <div class="main">
        <div class="ranking">
            <div class="ranking-title">ëª…ì˜ˆì˜ ì „ë‹¹</div>
            <!-- top 10 ë­í‚¹ ëœ¨ë„ë¡ êµ¬í˜„ -->
            <div class="ranking-table">
                <table class="table table-sm">
                    <thead class="thead-dark">
                        <tr>
                            <th scope="col" class="text-center">Rank</th>
                            <th scope="col" class="text-center">Nickname</th>
                            <th scope="col" class="text-center">Best Record</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <th scope="row" class="text-center">1</th>
                            <td id="top1-pid" class="text-center"></td>
                            <td id="top1-record" class="text-center"></td>
                        </tr>
                        <tr>
                            <th scope="row" class="text-center">2</th>
                            <td id="top2-pid" class="text-center"></td>
                            <td id="top2-record" class="text-center"></td>
                        </tr>
                        <tr>
                            <th scope="row" class="text-center">3</th>
                            <td id="top3-pid" class="text-center"></td>
                            <td id="top3-record" class="text-center"></td>
                        </tr>
                        <tr>
                            <th scope="row" class="text-center">4</th>
                            <td id="top4-pid" class="text-center"></td>
                            <td id="top4-record" class="text-center"></td>
                        </tr>
                        <tr>
                            <th scope="row" class="text-center">5</th>
                            <td id="top5-pid" class="text-center"></td>
                            <td id="top5-record" class="text-center"></td>
                        </tr>
                        <tr>
                            <th scope="row" class="text-center">6</th>
                            <td id="top6-pid" class="text-center"></td>
                            <td id="top6-record" class="text-center"></td>
                        </tr>
                        <tr>
                            <th scope="row" class="text-center">7</th>
                            <td id="top7-pid" class="text-center"></td>
                            <td id="top7-record" class="text-center"></td>
                        </tr>
                        <tr>
                            <th scope="row" class="text-center">8</th>
                            <td id="top8-pid" class="text-center"></td>
                            <td id="top8-record" class="text-center"></td>
                        </tr>
                        <tr>
                            <th scope="row" class="text-center">9</th>
                            <td id="top9-pid" class="text-center"></td>
                            <td id="top9-record" class="text-center"></td>
                        </tr>
                        <tr>
                            <th scope="row" class="text-center">10</th>
                            <td id="top10-pid" class="text-center"></td>
                            <td id="top10-record" class="text-center"></td>
                        </tr>
                    </tbody>
                </table>

            </div>
        </div>
        <div>
            <button class="btn-game" onclick="gamestart()">Game start</button>
            <!-- ëˆ„ë¥´ë©´ game pageë¡œ ì´ë™ -->
        </div>
        <div>
            <button class="btn-tutorial">Tutorial</button>
            <div class="modal">
                <div class="modal-content">
                    <a class="btn-close">âœ–</a>
                    <h2>How to play<br>Typing Jungle</h2>
                    <p>
                        ì¢Œì¸¡ì˜ ë¬¸ì œì™€ ë™ì¼í•œ ë¬¸ì¥ì„ ìš°ì¸¡ ë‹µì•ˆë€ì— ì‘ì„±í•˜ì„¸ìš”.<br>
                        ì „ì²´ ë¬¸ì œë¥¼ í‘¸ëŠ” ë™ì•ˆ ì‹œê°„ì€ ê³„ì† í˜ëŸ¬ê°‘ë‹ˆë‹¤ ğŸ•ğŸ•“ğŸ•—ğŸ•›<br>
                        ì˜¤íƒ€ê°€ ë°œìƒí•˜ë©´ ë‹¤ìŒ ë¬¸ì œë¡œ ë„˜ì–´ê°€ì§€ ì•Šì•„ìš”!<br>
                        ì§ì ‘ ì˜¤íƒ€ë¥¼ ì°¾ê³ , ì •í™•í•˜ê²Œ ì‘ì„±í•´ë³´ì„¸ìš”.<br>
                        <br>
                        íƒ€ì´í•‘ ì •ê¸€ê³¼ í•¨ê»˜ ë¹ ë¥´ê³  ì •í™•í•˜ê²Œ ì½”ë“œë¥¼ ì¹˜ëŠ” ì •ê¸€ëŸ¬ê°€ ë˜ì–´ë³´ì„¸ìš”ğŸ¤“
                    </p>
                </div>
            </div>
        </div>
    </div>

    <script>
        $('.btn-tutorial').click(function () {
            $('.modal').fadeIn()
        })
        $('.btn-close').click(function () {
            $('.modal').fadeOut()
        })
    </script>
</body>

</html>